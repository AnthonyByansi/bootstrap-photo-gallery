!function(a){"use strict";a.fn.bsPhotoGallery=function(s){var i=a.extend({},a.fn.bsPhotoGallery.defaults,s),d=function(){for(var a="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",s="",i=0;i<4;i++)s+=a.charAt(Math.floor(Math.random()*a.length));return"bsp-"+s}(),t=i.classes,l=(t.split(" "),{});function M(){return'ul[data-bsp-ul-id="'+l.ulId+'"][data-bsp-ul-index="'+l.ulIndex+'"]'}function n(){a(M()+" li[data-bsp-li-index]").length===l.nextImg?a("a.next").hide():a("a.next").show(),-1===l.prevImg?a("a.previous").hide():a("a.previous").show()}function e(a){return a.replace(/url\(\"/g,"").replace(/\"\)/g,"")}function o(){var s=e(a(this).find(".bspImgWrapper")[0].style.backgroundImage),d=a(this).attr("data-bsp-li-index"),t=a(this).parent("ul").attr("data-bsp-ul-index"),M=a(this).parent("ul").attr("data-bsp-ul-id"),o=a(this).find("p").html();l.img=s,l.prevImg=parseInt(d)-parseInt(1),l.nextImg=parseInt(d)+parseInt(1),l.ulIndex=t,l.ulId=M,a("#bsPhotoGalleryModal").modal();var I="";I+='<img src="'+l.img+'" class="img-responsive bsp-modal-main-image"/>',I+='<span class="bsp-close"><img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/PjwhRE9DVFlQRSBzdmcgIFBVQkxJQyAnLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4nICAnaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkJz48c3ZnIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDEyOCAxMjgiIGhlaWdodD0iMTI4cHgiIGlkPSLQodC70L7QuV8xIiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCAxMjggMTI4IiB3aWR0aD0iMTI4cHgiIHhtbDpzcGFjZT0icHJlc2VydmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjxnPjxwb2x5Z29uIGZpbGw9IiMzNzM3MzciIHBvaW50cz0iMTIzLjU0Mjk2ODgsMTEuNTkzNzUgMTE2LjQ3NjU2MjUsNC41MTg1NTQ3IDY0LjAwMTk1MzEsNTYuOTMwNjY0MSAxMS41NTk1NzAzLDQuNDg4MjgxMyAgICAgNC40ODgyODEzLDExLjU1OTU3MDMgNTYuOTI3MjQ2MSw2My45OTcwNzAzIDQuNDU3MDMxMywxMTYuNDA1MjczNCAxMS41MjQ0MTQxLDEyMy40ODE0NDUzIDYzLjk5ODUzNTIsNzEuMDY4MzU5NCAgICAgMTE2LjQ0MjM4MjgsMTIzLjUxMTcxODggMTIzLjUxMjY5NTMsMTE2LjQ0MTQwNjMgNzEuMDczMjQyMiw2NC4wMDE5NTMxICAgIi8+PC9nPjwvc3ZnPg=="></span>',I+='<div class="bsp-text-container">',void 0!==o&&(I+='<p class="pText">'+o+"</p>"),I+="</div>",i.showControl&&(I+='<a class="bsp-controls next" data-bsp-id="'+l.ulId+'" href="'+l.nextImg+'">',I+='<img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/PjwhRE9DVFlQRSBzdmcgIFBVQkxJQyAnLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4nICAnaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkJz48c3ZnIGhlaWdodD0iNTEycHgiIGlkPSJMYXllcl8xIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1MTIgNTEyOyIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgNTEyIDUxMiIgd2lkdGg9IjUxMnB4IiB4bWw6c3BhY2U9InByZXNlcnZlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj48cGF0aCBkPSJNMjk4LjMsMjU2TDI5OC4zLDI1NkwyOTguMywyNTZMMTMxLjEsODEuOWMtNC4yLTQuMy00LjEtMTEuNCwwLjItMTUuOGwyOS45LTMwLjZjNC4zLTQuNCwxMS4zLTQuNSwxNS41LTAuMmwyMDQuMiwyMTIuNyAgYzIuMiwyLjIsMy4yLDUuMiwzLDguMWMwLjEsMy0wLjksNS45LTMsOC4xTDE3Ni43LDQ3Ni44Yy00LjIsNC4zLTExLjIsNC4yLTE1LjUtMC4yTDEzMS4zLDQ0NmMtNC4zLTQuNC00LjQtMTEuNS0wLjItMTUuOCAgTDI5OC4zLDI1NnoiLz48L3N2Zz4="/></a>',I+='<a class="bsp-controls previous" data-bsp-id="'+l.ulId+'" href="'+l.prevImg+'">',I+='<img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/PjwhRE9DVFlQRSBzdmcgIFBVQkxJQyAnLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4nICAnaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkJz48c3ZnIGhlaWdodD0iNTEycHgiIGlkPSJMYXllcl8xIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1MTIgNTEyOyIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgNTEyIDUxMiIgd2lkdGg9IjUxMnB4IiB4bWw6c3BhY2U9InByZXNlcnZlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj48cG9seWdvbiBwb2ludHM9IjM1MiwxMjguNCAzMTkuNyw5NiAxNjAsMjU2IDE2MCwyNTYgMTYwLDI1NiAzMTkuNyw0MTYgMzUyLDM4My42IDIyNC43LDI1NiAiLz48L3N2Zz4="/></a></a>'),a("#bsPhotoGalleryModal .modal-body").html(I),a(".bsp-close").on("click",c),n()}function c(){a("#bsPhotoGalleryModal").modal("hide")}function I(){var s=a(M()),i=a(this).attr("href"),d=e(s.find('li[data-bsp-li-index="'+i+'"] .bspImgWrapper')[0].style.backgroundImage),t=s.find('li[data-bsp-li-index="'+i+'"] p').html();a("#bsPhotoGalleryModal .modal-body img.bsp-modal-main-image").attr("src",d);var o="";return void 0!==t&&(o+='<p class="pText">'+t+"</p>"),a(".bsp-text-container").html(o),l.prevImg=parseInt(i)-1,l.nextImg=parseInt(l.prevImg)+2,a(this).hasClass("previous")?(a(this).attr("href",l.prevImg),a("a.next").attr("href",l.nextImg)):(a(this).attr("href",l.nextImg),a("a.previous").attr("href",l.prevImg)),n(),!1}function r(){a("#bsPhotoGalleryModal .modal-body").html(""),l={}}return this.each(function(s){var l=a(this).find("li");a(this).attr("data-bsp-ul-id",d),a(this).attr("data-bsp-ul-index",s),l.each(function(s){var d=a(this).find("img"),l=a(this).find("p"),M=d.attr("src");a(this).addClass(t),a(this).attr("data-bsp-li-index",s),d.wrap('<div class="bspImgWrapper" style="background:url(\''+M+"');\"></div>"),l.addClass("bspText"),!0===i.shortText&&l.addClass("bspShortText"),d.remove(),!0===i.hasModal&&(a(this).addClass("bspHasModal"),a(this).on("click",o))})}),!0===i.hasModal&&(a(document).on("click",'a.bsp-controls[data-bsp-id="'+d+'"]',I),a(document).on("hidden.bs.modal","#bsPhotoGalleryModal",r),function(){if(0!==a("#bsPhotoGalleryModal").length)return!1;var s="";s+='<div class="modal fade" id="bsPhotoGalleryModal" tabindex="-1" role="dialog"',s+='aria-labelledby="myModalLabel" aria-hidden="true">',s+='<div class="modal-dialog modal-lg"><div class="modal-content">',s+='<div class="modal-body"></div></div></div></div>',a("body").append(s)}()),this},a.fn.bsPhotoGallery.defaults={classes:"col-xl-2 col-lg-2 col-md-2 col-sm-4",showControl:!0,hasModal:!0,shortText:!0}}(jQuery);